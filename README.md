# 后缀表达式处理器

本项目主要实现以下：

1. 将中缀表达式转化为后缀表达式
2. 对后缀表达式进行求值

## 支持的运算

### 运算符

`() + - * / % ^ ! ~`
其中`^` 为幂运算符，`!` 为阶乘符，`~` 为负号

优先级：

`+ -` < `* / %` < `^` < `!` < `~`

### 函数

来源于 `Java` 的 `Math` 库：

* 双曲正弦：`sh`  
* 双曲余弦：`ch`  
* 双曲正切：`th`  
* 以10为底的对数：`lg`
* 自然对数：`ln`
* 正弦函数：`sin`
* 余弦函数：`sin`
* 正切函数：`tan`
* 正割函数：`sec`
* 余割函数：`csc`
* 余切函数：`cot`
* e的幂：`exp`
* 对数函数：`log`
* 绝对值：`abs`
* 最大值：`max`
* 最小值：`min`
* 平方根：`sart`
* 向上取整：`ceil`
* 向下取整：`floor`
* 反三角正弦函数：`arcsin`
* 反三角余弦函数：`arccos`
* 反三角正切函数：`arctan`

自定义函数：

* 最大公约数：`gcd`
* 最小公倍数：`lcm`
* 排列数：`perm`
* 组合数：`comb`
* 转化为带π的式子 `pify`
* 将数转化为分式：`frac`
* 反双曲正弦函数：`arsh`
* 反双曲余弦函数：`arch`
* 反双曲正切函数：`arth`
* 判断素数：`prime`
* 素因子分解：`factor`

## 处理效果

```C
(3 + 5 % 6) * 7 + 6 / 3 - 4
postfix: [3.0, 5.0, 6.0, %, +, 7.0, *, 6.0, 3.0, /, +, 4.0, -]
result: 54.0

(3! + ~1^3) % 3 + (~(2 * (4 - 3) - 1)^2) / 0.5
postfix: [3.0, !, 1.0, ~, 3.0, ^, +, 3.0, %, 2.0, 4.0, 3.0, -, *, 1.0, -, ~, 2.0, ^, 0.5, /, +]
result: 4.0

[(3! ^ 2!) * 10 - 5 * (3 ^ 3 - 7) % (3! - 2!) + 9] + 5! ^ 2
postfix: [3.0, !, 2.0, !, ^, 10.0, *, 5.0, 3.0, 3.0, ^, 7.0, -, *, 3.0, !, 2.0, !, -, %, -, 9.0, +, 5.0, !, 2.0, ^, +]
result: 14769.0

3.5 / 0.5 + lg(0.01) - floor(1.5) + sqrt(0.01)
postfix: [3.5, 0.5, /, 0.01, lg, +, 1.5, floor, -, 0.01, sqrt, +]
result: 4.1

sin(6 * PI + cos(5 * PI / 2) - 1) + lg(tan(PI / 4)) - ln(2 * Eu)
postfix: [6.0, π, *, 5.0, π, *, 2.0, /, cos, +, 1.0, -, sin, π, 4.0, /, tan, lg, +, 2.0, e, *, ln, -]
result: -2.534618165367842

sin(PI / 2) + cos(ln(Eu) - lg 10) + gcd(24, 30) + arctan 1 / PI - (log(2, 16) / 5)
postfix: [π, 2.0, /, sin, e, ln, 10.0, lg, -, cos, +, 24.0, 30.0, gcd, +, 1.0, arctan, π, /, +, 2.0, 16.0, log, 5.0, /, -]
result: 7.45

(perm(5, 2) - comb(5, 3))!
postfix: [5.0, 2.0, perm, 5.0, 3.0, comb, -, !]
result: 3628800.0

factor 180
postfix: [180.0, factor]
result: [2^2] * [3^2] * 5
```

> 未完待续，持续更新
